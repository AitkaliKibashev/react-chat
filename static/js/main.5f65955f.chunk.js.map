{"version":3,"sources":["utils/consts.js","components/Navbar.js","components/Login.js","components/Loader.js","components/Chat.js","routes.js","components/AppRouter.js","App.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Navbar","auth","useContext","Context","useAuthState","user","tempUserState","TempUserContext","AppBar","position","Toolbar","Typography","variant","displayName","Grid","container","justifyContent","to","style","textDecoration","Button","onClick","a","signOut","localStorage","clear","color","Login","useState","value","setValue","loginWithGoogle","provider","firebase","GoogleAuthProvider","addScope","signInWithRedirect","Container","height","window","innerHeight","alignItems","width","background","Box","p","display","flexDirection","margin","className","TextField","onChange","e","target","rowsMax","label","size","setItem","toString","Math","floor","random","location","reload","Loader","CircularProgress","withRouter","match","messageValue","setMessageValue","roomValue","setRoomValue","firestore","googleUser","roomId","params","useCollectionData","collection","orderBy","messages","rooms","loading","messagesEndRef","useRef","useEffect","console","log","current","scrollTop","scrollHeight","marginTop","flex","map","r","id","name","type","add","uid","createdAt","FieldValue","serverTimestamp","ref","m","Avatar","src","photoURL","marginRight","text","onSubmit","preventDefault","publicRoutes","path","Component","privateRoutes","Chat","AppRouter","component","exact","App","loader","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","createContext","getItem","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.5f65955f.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat/:roomId?'\r\n","import React, {useContext} from 'react'\r\nimport {AppBar, Button, Grid, Toolbar, Typography} from \"@material-ui/core\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {Context, TempUserContext} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nconst Navbar = () => {\r\n    const {auth} = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n    const tempUserState = useContext(TempUserContext)\r\n\r\n    const logout = () => {\r\n        if (user) {\r\n            return async () => await auth.signOut()\r\n        }\r\n        localStorage.clear()\r\n    }\r\n\r\n    return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <Typography variant=\"h6\">\r\n                    {user || tempUserState.user.displayName ? 'Chat' : 'Home'}\r\n                </Typography>\r\n                <Grid container justifyContent={'flex-end'}>\r\n                    {user || tempUserState.user.displayName ?\r\n                        <NavLink to={LOGIN_ROUTE} style={{textDecoration: 'none'}}>\r\n                            <Button onClick={logout} variant={'contained'} color={'secondary'}>\r\n                                Logout\r\n                            </Button>\r\n                        </NavLink>\r\n                    :\r\n                        <NavLink to={LOGIN_ROUTE} style={{textDecoration: 'none'}}>\r\n                            <Button variant={'contained'} color={'secondary'}>\r\n                                Login\r\n                            </Button>\r\n                        </NavLink>\r\n                    }\r\n                </Grid>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, {useContext, useState} from 'react'\r\nimport {Box, Button, Container, Grid, TextField} from \"@material-ui/core\";\r\nimport {Context} from \"../index\";\r\nimport firebase from \"firebase\";\r\n\r\nconst Login = () => {\r\n    const {auth} = useContext(Context)\r\n    const [value, setValue] = useState('')\r\n\r\n    const loginWithGoogle = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        provider.addScope('https://www.googleapis.com/auth/contacts.readonly')\r\n        await auth.signInWithRedirect(provider)\r\n    }\r\n\r\n    const createTempAcc = () => {\r\n        localStorage.setItem('name', value)\r\n        localStorage.setItem('uid', toString(Math.floor(Math.random(1000) * 1000)))\r\n        window.location.reload()\r\n        setValue('')\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  style={{height: window.innerHeight - 65}}\r\n                  alignItems={'center'}\r\n                  justifyContent={'center'}\r\n            >\r\n                <Grid style={{width: 400, background: 'lightgray'}} container justifyContent={'center'} alignItems={'center'}>\r\n                    <Box p={5} style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center'\r\n                    }}>\r\n                        <Button onClick={loginWithGoogle} variant={'outlined'}>Login with Google</Button>\r\n                        <p style={{\r\n                            margin: '10px 0'\r\n                        }}>Or log in as a temporary user</p>\r\n                        <div className={'temp-user-block'}>\r\n                            <TextField\r\n                                value={value}\r\n                                onChange={(e) => setValue(e.target.value)}\r\n                                rowsMax={2}\r\n                                variant={'outlined'}\r\n                                color={'secondary'}\r\n                                label=\"Name\"\r\n                                style={{width: '70%'}}\r\n                                size={'small'}\r\n                            />\r\n                            <Button\r\n                                onClick={createTempAcc} variant={'outlined'} color={'secondary'}\r\n                            >Go</Button>\r\n                        </div>\r\n\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport {CircularProgress, Container, Grid} from \"@material-ui/core\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  style={{height: window.innerHeight}}\r\n                  alignItems={'center'}\r\n                  justifyContent={'center'}\r\n            >\r\n                <Grid container justifyContent={'center'} alignItems={'center'}>\r\n                    <CircularProgress />\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import React, {useContext, useEffect, useRef, useState} from 'react'\r\nimport {Avatar, Button, Container, Grid, TextField} from \"@material-ui/core\"\r\nimport '../App.css'\r\nimport {Context, TempUserContext} from \"../index\"\r\nimport firebase from \"firebase\"\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\"\r\nimport Loader from \"./Loader\"\r\nimport {useAuthState} from \"react-firebase-hooks/auth\"\r\nimport {NavLink, withRouter} from \"react-router-dom\"\r\n\r\nconst Chat = ({match}) => {\r\n    const [messageValue, setMessageValue] = useState('')\r\n    const [roomValue, setRoomValue] = useState('')\r\n    const {auth, firestore} = useContext(Context)\r\n    const tempUserState = useContext(TempUserContext)\r\n    const [googleUser] = useAuthState(auth)\r\n    const user = googleUser ? googleUser : tempUserState.user\r\n    const roomId = match.params.roomId\r\n\r\n    const [messages] = useCollectionData(firestore.collection('messages').orderBy('createdAt'))\r\n    const [rooms, loading] = useCollectionData(firestore.collection('rooms').orderBy('createdAt'))\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        if (messagesEndRef.current) {\r\n            messagesEndRef.current.scrollTop = messagesEndRef.current.scrollHeight\r\n            console.log(messagesEndRef.current.scrollTop)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('YO')\r\n        scrollToBottom()\r\n    }, [messages])\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault()\r\n        if(!messageValue) {\r\n            return null\r\n        }\r\n        const uid = user.uid\r\n        const displayName = user.displayName\r\n        const photoURL = user.photoURL\r\n\r\n        firestore.collection('messages').add({\r\n            roomId,\r\n            uid,\r\n            displayName,\r\n            photoURL,\r\n            text: messageValue,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setMessageValue('')\r\n    }\r\n\r\n    const createRoom = () => {\r\n        if(!roomValue) {\r\n            return null\r\n        }\r\n        firestore.collection('rooms').add({\r\n            id: Math.floor(Math.random()*1000),\r\n            uid: user.uid,\r\n            name: roomValue,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setRoomValue('')\r\n    }\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <h1 style={{marginTop: 10}}>Welcome to the my fucking CHAT</h1>\r\n            <div className={'chat-row'}>\r\n                <div style={{flex: 1}} className={'chat-row__chat-list'}>\r\n                    <h1>Rooms</h1>\r\n                    <div style={{flex: 1}}>\r\n                        {rooms ? rooms.map(r =>\r\n                            <NavLink key={r.id} style={{textDecoration: 'none'}} to={'/chat/' + r.id}>\r\n                                <p className={'chat-row__chat-list__item'}>{r.name}</p>\r\n                            </NavLink>\r\n                        ) : null}\r\n                    </div>\r\n                    <form className={'chat-row__chat-list__footer'}>\r\n                        <TextField\r\n                            value={roomValue}\r\n                            onChange={(e) => setRoomValue(e.target.value)}\r\n                            rowsMax={2}\r\n                            variant={'outlined'}\r\n                            color={'secondary'}\r\n                            label=\"Room name\"\r\n                            style={{width: '65%'}}\r\n                        />\r\n                        <Button type={'submit'} onClick={createRoom} variant={'outlined'} color={'secondary'}>Create</Button>\r\n                    </form>\r\n                </div>\r\n                <div className={'chat-row__chat-window'}>\r\n                    <div className={'chat-row__chat-window__chat'} ref={messagesEndRef}>\r\n                        {messages ? messages.map(m =>\r\n                            roomId === m.roomId ?\r\n                            <div className={m.uid === user.uid ? 'chat-row__chat-window__user-message-me': 'chat-row__chat-window__user-message-other'}>\r\n                                <Grid container alignItems={'center'}>\r\n                                    <Avatar src={m.photoURL} style={{marginRight: 10}}/>\r\n                                    <p>{m.displayName}</p>\r\n                                </Grid>\r\n                                <p style={{marginTop: 5}}>{m.text}</p>\r\n                            </div> : null\r\n                        ) : null}\r\n                    </div>\r\n                    {roomId ?\r\n                        <form onSubmit={sendMessage} className={'chat-row__chat-window__footer'}>\r\n                            <TextField\r\n                                value={messageValue}\r\n                                onChange={(e) => setMessageValue(e.target.value)}\r\n                                rowsMax={2}\r\n                                variant={'outlined'}\r\n                                label={\"Your text\"}\r\n                                style={{width: '90%'}}\r\n                            />\r\n                            <Button type={'submit'} variant={'outlined'} color={'secondary'}>Send</Button>\r\n                        </form>\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default withRouter(Chat)\r\n","import {CHAT_ROUTE, LOGIN_ROUTE} from \"./utils/consts\"\r\nimport Login from \"./components/Login\"\r\nimport Chat from \"./components/Chat\"\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]\r\n","import React, {useContext} from 'react'\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from \"../routes\";\r\nimport {CHAT_ROUTE, LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {Context, TempUserContext} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context)\r\n    const tempUserState = useContext(TempUserContext)\r\n    const [user] = useAuthState(auth)\r\n\r\n    return user || tempUserState.user.displayName ?\r\n        <Switch>\r\n            {privateRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} component={Component} exact={true}/>\r\n            )}\r\n            <Redirect to={CHAT_ROUTE} />\r\n        </Switch>\r\n        :\r\n        <Switch>\r\n            {publicRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} component={Component} exact={true}/>\r\n            )}\r\n            <Redirect to={LOGIN_ROUTE} />\r\n        </Switch>\r\n}\r\n\r\nexport default AppRouter\r\n","import './App.css'\nimport Navbar from \"./components/Navbar\";\nimport {HashRouter} from \"react-router-dom\";\nimport AppRouter from \"./components/AppRouter\";\nimport Loader from \"./components/Loader\";\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport {useContext} from \"react\";\nimport {Context} from \"./index\";\n\nfunction App() {\n    const {auth} = useContext(Context)\n    const [user, loader, error] = useAuthState(auth)\n\n    if (loader) {\n        return <Loader />\n    }\n\n    return (\n        <HashRouter>\n            <Navbar/>\n            <AppRouter/>\n        </HashRouter>\n    )\n}\n\nexport default App;\n","import React, {createContext} from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport firebase from \"firebase\"\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyBpbPMLFA7wExzyxphf30ppEJusYv2dd_c\",\n    authDomain: \"react-chat-66a99.firebaseapp.com\",\n    projectId: \"react-chat-66a99\",\n    storageBucket: \"react-chat-66a99.appspot.com\",\n    messagingSenderId: \"918040955507\",\n    appId: \"1:918040955507:web:90e31caec7d66d7eab3806\"\n})\n\nexport const Context = createContext(null)\n\nconst auth = firebase.auth()\nconst firestore = firebase.firestore()\n\nexport const TempUserContext = createContext(null)\n\nconst tempUserState = {\n    user: {\n        uid: localStorage.getItem('uid'),\n        displayName: localStorage.getItem('name'),\n        photoURL: 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png'\n    }\n}\n\nReactDOM.render(\n  <Context.Provider value={{\n      firebase,\n      auth,\n      firestore\n  }}>\n      <TempUserContext.Provider value={tempUserState}>\n          <App />\n      </TempUserContext.Provider>\n  </Context.Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}